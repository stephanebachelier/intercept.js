/*! interception - v0.1.2
 *  Release on: 2015-01-23
 *  Copyright (c) 2015 St√©phane Bachelier
 *  Licensed MIT */

!function(a,b){"function"==typeof define&&define.amd?define(["underscore"],b):"undefined"!=typeof exports?module.exports=b():b()}(this,function(){"use strict";var a={VERSION:"",rootSelector:"body",defaults:{links:!0,forms:!0},start:function(a){a=a||{},(a.links||this.defaults.links)&&this._getRootElement().addEventListener("click",this._interceptLinks.bind(this),!0),(a.forms||this.defaults.forms)&&this._getRootElement().addEventListener("submit",this._interceptForms.bind(this))},stop:function(){this._getRootElement().removeEventListener("click",this._interceptLinks,!0),this._getRootElement().removeEventListener("submit",this._interceptForms)},_getRootElement:function(){return this._body?this._body:(this._body=document.querySelector(this.rootSelector),this._body)},_interceptForms:function(a){a.target&&a.target.action||a.preventDefault()},linkRegexp:/^#|javascript:|mailto:|(?:\w+:)?\/\//,_interceptLinks:function(a){if(1===a.which){for(var b,c=a.target;c!==a.currentTarget;){if(c instanceof HTMLAnchorElement||c instanceof HTMLButtonElement){b=c;break}c=c.parentElement}if(b&&b.href){var d=this._getAttribute(b,"bypass");(void 0===d||"false"===d)&&(!1!==this.linkRegexp&&this.linkRegexp.test(b.href)||(a.preventDefault(),this.navigate&&"function"==typeof this.navigate&&this.navigate(b.href,b)))}}},_getAttribute:function(a,b){var c=a.getAttribute(b);return void 0!==c&&null!==c?c:a.dataset&&void 0!==a.dataset[b]?a.dataset[b]:void 0}};return a});
//# sourceMappingURL=interception.min.js.map